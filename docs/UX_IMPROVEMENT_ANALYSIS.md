# üé® –ê–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ InvoiceGemini

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 3 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0  
**–°—Ç–∞—Ç—É—Å:** –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ](#–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ-—Ä–µ–∑—é–º–µ)
2. [–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UX](#—Ç–µ–∫—É—â–µ–µ-—Å–æ—Å—Ç–æ—è–Ω–∏–µ-ux)
3. [–í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã](#–≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã)
4. [–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é](#–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è-–ø–æ-—É–ª—É—á—à–µ–Ω–∏—é)
5. [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –î–∏–∑–∞–π–Ω—É (–¢–†–î)](#—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ-—Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ-–ø–æ-–¥–∏–∑–∞–π–Ω—É)
6. [–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏](#–Ω–æ–≤—ã–µ-—Ñ—É–Ω–∫—Ü–∏–∏-–∏-–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)
7. [–ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è](#–ø–ª–∞–Ω-–≤–Ω–µ–¥—Ä–µ–Ω–∏—è)

---

## üìä –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —Ä–µ–∑—é–º–µ

### –û–±—â–∞—è –æ—Ü–µ–Ω–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ UX: **7/10**

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–ª–Ω–æ—Ç–∞ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ –º–æ–¥–µ–ª–µ–π –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π)
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (Phase 1-2 –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –ø–ª–∞–≥–∏–Ω–æ–≤ –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞

**–û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è:**
- ‚ö†Ô∏è –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –æ–∫–Ω–∞
- ‚ö†Ô∏è –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ onboarding –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è
- ‚ö†Ô∏è –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π workflow –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

---

## üîç –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ UX

### –ê–Ω–∞–ª–∏–∑ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º Jakob Nielsen

#### 1. **–í–∏–¥–∏–º–æ—Å—Ç—å —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã** (6/10)
- ‚úÖ –ï—Å—Ç—å: Progress bar —Å ETA, —Å—Ç–∞—Ç—É—Å –±–∞—Ä
- ‚ùå –ù–µ—Ç: –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–µ–π –≤ –ø–∞–º—è—Ç–∏, –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Ä–µ—Å—É—Ä—Å–∞—Ö
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å System Status Dashboard

#### 2. **–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –º–µ–∂–¥—É —Å–∏—Å—Ç–µ–º–æ–π –∏ —Ä–µ–∞–ª—å–Ω—ã–º –º–∏—Ä–æ–º** (8/10)
- ‚úÖ –ï—Å—Ç—å: –ü–æ–Ω—è—Ç–Ω–∞—è —Ä—É—Å—Å–∫–∞—è —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—è, –∏–∫–æ–Ω–∫–∏
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ: –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã (LayoutLM, Donut) –±–µ–∑ –æ–±—ä—è—Å–Ω–µ–Ω–∏–π
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Tooltips —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏—è–º–∏, –≥–ª–æ—Å—Å–∞—Ä–∏–π

#### 3. **–£–ø—Ä–∞–≤–ª—è–µ–º–æ—Å—Ç—å –∏ —Å–≤–æ–±–æ–¥–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** (5/10)
- ‚ùå –ù–µ—Ç: –û—Ç–º–µ–Ω–∞ –¥–æ–ª–≥–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π, undo/redo –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ: –ò—Å—Ç–æ—Ä–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –±–µ–∑ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø–æ–≤—Ç–æ—Ä–∞
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Command pattern –¥–ª—è –æ—Ç–º–µ–Ω—ã, –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é

#### 4. **–°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã** (7/10)
- ‚úÖ –ï—Å—Ç—å: –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å PyQt6, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ: –†–∞–∑–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–∏–∞–ª–æ–≥–æ–≤ (legacy vs new)
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: –ï–¥–∏–Ω–∞—è –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞

#### 5. **–ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫** (6/10)
- ‚úÖ –ï—Å—Ç—å: –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫, –ø—Ä–æ–≤–µ—Ä–∫–∞ API –∫–ª—é—á–µ–π
- ‚ùå –ù–µ—Ç: –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è—Ö, –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Smart validation, –ø—Ä–µ–¥–∏–∫—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

#### 6. **–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –≤–º–µ—Å—Ç–æ –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è** (5/10)
- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–º–Ω–∏—Ç—å:
  - –ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è —Ä–∞–∑–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
  - –ö–∞–∫—É—é –º–æ–¥–µ–ª—å –≤—ã–±—Ä–∞—Ç—å –¥–ª—è –∫–∞–∫–æ–≥–æ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
  - –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏, —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ AI

#### 7. **–ì–∏–±–∫–æ—Å—Ç—å –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** (6/10)
- ‚úÖ –ï—Å—Ç—å: Drag & Drop, batch processing
- ‚ùå –ù–µ—Ç: –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏, –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è toolbar, –º–∞–∫—Ä–æ—Å—ã
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Keyboard shortcuts, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π UI

#### 8. **–≠—Å—Ç–µ—Ç–∏—á–µ—Å–∫–∏–π –∏ –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω** (5/10)
- ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞
  - –ì–ª–∞–≤–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–¥–µ—Ä–∂–∏—Ç >20 —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  - 5+ —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫ –º–æ–¥–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –≤–∏–¥–Ω—ã
  - –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤–∫–ª–∞–¥–æ–∫ –≤ –¥–∏–∞–ª–æ–≥–∞—Ö (–¥–æ 6)
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Progressive disclosure, smart defaults

#### 9. **–ü–æ–º–æ—â—å –≤ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫** (6/10)
- ‚úÖ –ï—Å—Ç—å: QMessageBox —Å —Ç–µ–∫—Å—Ç–∞–º–∏ –æ—à–∏–±–æ–∫
- ‚ùå –ù–µ—Ç: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—é, —Å—Å—ã–ª–∫–∏ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: Smart error dialog —Å —Ä–µ—à–µ–Ω–∏—è–º–∏

#### 10. **–°–ø—Ä–∞–≤–∫–∞ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** (7/10)
- ‚úÖ –ï—Å—Ç—å: –û–±—à–∏—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ docs/
- ‚ùå –ù–µ—Ç: In-app help, contextual tips, interactive tutorials
- üí° **–£–ª—É—á—à–µ–Ω–∏–µ**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞, –≤–∏–¥–µ–æ-—Ç—É—Ä—ã

---

## ‚ùó –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 1. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ onboarding –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—É—Å—Ç–æ–µ –æ–∫–Ω–æ –±–µ–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫
- –ù–µ—Ç –≥–∞–π–¥–∞ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ API –∫–ª—é—á–µ–π
- –ù–µ—è—Å–Ω–æ, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å

**–í–ª–∏—è–Ω–∏–µ:** –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞, –æ—Ç–∫–∞–∑ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –ù–æ–≤—ã–π –∫–ª–∞—Å—Å OnboardingWizard
class OnboardingWizard(QWizard):
    """–ú–∞—Å—Ç–µ—Ä –ø–µ—Ä–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π"""
    
    def __init__(self, parent=None):
        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –≤—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞
        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π (–æ–±–ª–∞—á–Ω—ã–µ/–ª–æ–∫–∞–ª—å–Ω—ã–µ)
        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 3: API –∫–ª—é—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ 4: –¢–µ—Å—Ç–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç
```

#### 2. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ –æ–∫–Ω–∞**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- 5 —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫ –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏ –∑–∞–Ω–∏–º–∞—é—Ç –º–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Gemini (temperature, max_tokens) –≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã
- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –≤–∏–¥–µ –±–æ–ª—å—à–æ–π —Ç–∞–±–ª–∏—Ü—ã

**–í–ª–∏—è–Ω–∏–µ:** –ö–æ–≥–Ω–∏—Ç–∏–≤–Ω–∞—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∞, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –°–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ –≤ dropdown —Å –æ–ø–∏—Å–∞–Ω–∏—è–º–∏
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ collapsible panel
- –†–µ–∂–∏–º—ã –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (compact/detailed)

#### 3. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –ø—Ä–∏ –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–µ–π (~5-10 —Å–µ–∫) –±–µ–∑ –∏–Ω–¥–∏–∫–∞—Ü–∏–∏
- –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π (–º–∏–Ω—É—Ç—ã/—á–∞—Å—ã) —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- Batch processing –±–µ–∑ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

**–í–ª–∏—è–Ω–∏–µ:** –ù–µ–ø–æ–Ω–∏–º–∞–Ω–∏–µ, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–∏ —á—Ç–æ-—Ç–æ, —Ç—Ä–µ–≤–æ–≥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–†–µ—à–µ–Ω–∏–µ:**
- –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π progress indicator
- Cancellable operations
- Estimated time remaining

### ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

#### 4. **–°–ª–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–æ—Ä–∞ –ø–æ–¥—Ö–æ–¥—è—â–µ–π –º–æ–¥–µ–ª–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –∑–Ω–∞–µ—Ç, –∫–∞–∫—É—é –º–æ–¥–µ–ª—å –≤—ã–±—Ä–∞—Ç—å
- –ù–µ—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
- –ù–µ—è—Å–Ω—ã –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏

**–†–µ—à–µ–Ω–∏–µ:**
```python
class SmartModelSelector(QWidget):
    """–£–º–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –º–æ–¥–µ–ª–∏ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏"""
    
    def recommend_model(self, file_path: str) -> str:
        """
        –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç –º–æ–¥–µ–ª—å:
        - PDF —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Å–ª–æ–µ–º ‚Üí Gemini (–±—ã—Å—Ç—Ä–æ, —Ç–æ—á–Ω–æ)
        - –°–∫–∞–Ω—ã –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ ‚Üí LayoutLMv3 (–ª—É—á—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞)
        - –§–æ—Ç–æ/–Ω–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ ‚Üí Donut (robust)
        """
```

#### 5. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –±—ã—Å—Ç—Ä—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ shortcuts**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∫–ª–∏–∫–æ–≤ –¥–ª—è —Ç–∏–ø–∏—á–Ω—ã—Ö –∑–∞–¥–∞—á
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –æ–ø–µ—Ä–∞—Ü–∏—é

**–†–µ—à–µ–Ω–∏–µ:**
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ shortcuts (Ctrl+O, Ctrl+P, F5, etc.)
- Quick Actions panel
- –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ —Å –ø–æ–≤—Ç–æ—Ä–æ–º

#### 6. **–ù–µ—É–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- –ù–µ–ª—å–∑—è –±—ã—Å—Ç—Ä–æ –∏—Å–ø—Ä–∞–≤–∏—Ç—å –æ–¥–Ω–æ –ø–æ–ª–µ
- –ù–µ—Ç –±—ã—Å—Ç—Ä–æ–≥–æ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ clipboard

**–†–µ—à–µ–Ω–∏–µ:**
- Inline editing –≤ —Ç–∞–±–ª–∏—Ü–µ
- Context menu (Copy, Export, Edit)
- Quick copy buttons –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—è

### üí° –£–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ UX

#### 7. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–∏**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –ù–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Å–µ–≥–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤—Å–µ –æ–ø—Ü–∏–∏
- –ù–µ—Ç –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–æ–¥ —á–∞—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏

**–†–µ—à–µ–Ω–∏–µ:**
- Workspace profiles (–ë—É—Ö–≥–∞–ª—Ç–µ—Ä, –ê—Ä—Ö–∏–≤, –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
- Learning from user behavior
- Customizable dashboard

#### 8. **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π**
**–ü—Ä–æ–±–ª–µ–º–∞:**
- –¢–æ–ª—å–∫–æ –º–æ–¥–∞–ª—å–Ω—ã–µ QMessageBox
- –ë–ª–æ–∫–∏—Ä—É—é—Ç —Ä–∞–±–æ—Ç—É
- –ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–†–µ—à–µ–Ω–∏–µ:**
- Toast notifications (–Ω–µ–∏–Ω–≤–∞–∑–∏–≤–Ω—ã–µ)
- Notification center
- –£—Ä–æ–≤–Ω–∏ –≤–∞–∂–Ω–æ—Å—Ç–∏ (info/warning/error)

---

## üí° –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

### üéØ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –ü–µ—Ä–≤–æ–µ –≤–ø–µ—á–∞—Ç–ª–µ–Ω–∏–µ

#### A. Onboarding Wizard
**–¶–µ–ª—å:** –°–Ω–∏–∑–∏—Ç—å –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –Ω–∞ 70%

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. **–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è**
   - –ö—Ä–∞—Ç–∫–æ–µ –≤–∏–¥–µ–æ (30 —Å–µ–∫)
   - –í—ã–±–æ—Ä —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã:
     - üè¢ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è (—Ñ–æ–∫—É—Å –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å)
     - üì¶ –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (—Ñ–æ–∫—É—Å –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å)
     - üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è (–≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π**
   - –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ GPU
   - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:
     - GPU –¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí LayoutLMv3 + Gemini
     - –¢–æ–ª—å–∫–æ CPU ‚Üí Gemini (–æ–±–ª–∞—á–Ω—ã–π)
   - Checkbox: "–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –º–æ–¥–µ–ª–∏"

3. **API –∫–ª—é—á–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)**
   - –ü–æ–Ω—è—Ç–Ω–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ, –∑–∞—á–µ–º –Ω—É–∂–Ω—ã
   - –°—Å—ã–ª–∫–∏ –Ω–∞ –ø–æ–ª—É—á–µ–Ω–∏–µ
   - –ö–Ω–æ–ø–∫–∞ "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å, –Ω–∞—Å—Ç—Ä–æ—é –ø–æ–∑–∂–µ"

4. **–ü–µ—Ä–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç**
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ç—É—Ä –ø–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ —Å—á–µ—Ç–∞
   - –û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

**–ö–æ–¥:**
```python
# app/ui/onboarding_wizard.py
class OnboardingWizard(QWizard):
    def __init__(self, parent=None):
        super().__init__(parent)
        self.setWindowTitle("üöÄ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ InvoiceGemini!")
        self.setMinimumSize(800, 600)
        
        # –°—Ç—Ä–∞–Ω–∏—Ü—ã
        self.addPage(WelcomePage())
        self.addPage(ModelSetupPage())
        self.addPage(APIKeysPage())
        self.addPage(FirstDocumentPage())
        
        # –°—Ç–∏–ª—å
        self.setWizardStyle(QWizard.WizardStyle.ModernStyle)
        self.setOption(QWizard.WizardOption.HaveHelpButton, False)
```

#### B. Interactive Tutorial
**–¶–µ–ª—å:** –û–±—É—á–∏—Ç—å –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º –∑–∞ 2 –º–∏–Ω—É—Ç—ã

**–§—É–Ω–∫—Ü–∏–∏:**
- Overlay –ø–æ–¥—Å–∫–∞–∑–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º UI
- –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á
- –ú–æ–∂–Ω–æ –ø—Ä–æ–ø—É—Å—Ç–∏—Ç—å/–≤–µ—Ä–Ω—É—Ç—å—Å—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

#### C. Welcome Dashboard
**–¶–µ–ª—å:** –ü–æ–∫–∞–∑–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–ø—Ä–∞–≤–∏—Ç—å

**–≠–ª–µ–º–µ–Ω—Ç—ã:**
- Quick Start cards:
  - üìÑ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–∏–Ω –¥–æ–∫—É–º–µ–Ω—Ç
  - üìÇ Batch –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–ø–∫–∏
  - üéì –û–±—É—á–∏—Ç—å —Å–≤–æ—é –º–æ–¥–µ–ª—å
  - ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- Recent files
- Tips & tricks

### üé® –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–µ—Ä–∞—Ä—Ö–∏—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

#### A. Redesigned Main Window
**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–∞ –æ–¥–Ω–æ–º —É—Ä–æ–≤–Ω–µ

**–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ [Toolbar: Quick Actions]                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                     ‚îÇ                       ‚îÇ
‚îÇ  üìÅ File Panel      ‚îÇ  üñºÔ∏è Preview          ‚îÇ
‚îÇ  [Smart Selector]   ‚îÇ  [Document Viewer]   ‚îÇ
‚îÇ  [Recent Files]     ‚îÇ                       ‚îÇ
‚îÇ                     ‚îÇ  üìä Results           ‚îÇ
‚îÇ  ‚öôÔ∏è Quick Settings  ‚îÇ  [Field Editor]      ‚îÇ
‚îÇ  [Model: Auto]      ‚îÇ  [Confidence Meter]  ‚îÇ
‚îÇ  [Options ‚ñº]        ‚îÇ                       ‚îÇ
‚îÇ                     ‚îÇ  [üöÄ Process]         ‚îÇ
‚îÇ  üìà Stats           ‚îÇ  [üíæ Export]          ‚îÇ
‚îÇ  [Session info]     ‚îÇ                       ‚îÇ
‚îÇ                     ‚îÇ                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îÇ Status Bar: Model loaded | Ready | GPU: 4GB ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –∑–æ–Ω—ã
- Workflow —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
- –ú–µ–Ω—å—à–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ —à—É–º–∞
- –ë–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è –ø—Ä–µ–≤—å—é –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### B. Smart Model Selector
**–í–º–µ—Å—Ç–æ:** 5 —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–æ–∫

**–ù–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```python
class SmartModelSelector(QComboBox):
    """–£–º–Ω—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏"""
    
    def __init__(self):
        super().__init__()
        
        # –†–µ–∂–∏–º—ã
        self.addItem("ü§ñ –ê–≤—Ç–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)", "auto")
        self.addItem("‚ö° –ë—ã—Å—Ç—Ä—ã–π (Gemini)", "gemini")
        self.addItem("üéØ –¢–æ—á–Ω—ã–π (LayoutLM)", "layoutlm")
        self.addItem("üí™ –ù–∞–¥–µ–∂–Ω—ã–π (Donut)", "donut")
        self.addItem("‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–∏—Ç—å...", "custom")
        
        # Tooltip —Å –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ–º
        self.setToolTip(
            "–ê–≤—Ç–æ: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ª—É—á—à–µ–π –º–æ–¥–µ–ª–∏\n"
            "–ë—ã—Å—Ç—Ä—ã–π: –û–±–ª–∞—á–Ω—ã–π Gemini, <5 —Å–µ–∫\n"
            "–¢–æ—á–Ω—ã–π: LayoutLM, –ª—É—á—à–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞\n"
            "–ù–∞–¥–µ–∂–Ω—ã–π: Donut, —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ"
        )
```

#### C. Collapsible Panels
**–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –æ–ø—Ü–∏–π:**

1. **Basic Settings** (–≤—Å–µ–≥–¥–∞ –≤–∏–¥–Ω—ã)
   - Model selector
   - Process button

2. **Advanced Settings** (collapsible)
   - Temperature, max tokens
   - Custom prompts
   - OCR settings

3. **Batch Settings** (collapsible)
   - Parallel processing
   - Error handling
   - Output format

### üîî –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –°–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏

#### A. Toast Notification System
**–ó–∞–º–µ–Ω–∞** –º–æ–¥–∞–ª—å–Ω—ã—Ö QMessageBox –Ω–∞ –Ω–µ–∏–Ω–≤–∞–∑–∏–≤–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
class ToastNotification(QWidget):
    """–ù–µ–∏–Ω–≤–∞–∑–∏–≤–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"""
    
    def __init__(self, message, level="info", duration=3000):
        super().__init__()
        self.setWindowFlags(Qt.WindowType.ToolTip)
        
        # –°—Ç–∏–ª—å –ø–æ —É—Ä–æ–≤–Ω—é
        colors = {
            "info": "#3498db",
            "success": "#27ae60", 
            "warning": "#f39c12",
            "error": "#e74c3c"
        }
        
        # Layout
        layout = QHBoxLayout(self)
        icon = self._get_icon(level)
        label = QLabel(message)
        
        layout.addWidget(icon)
        layout.addWidget(label)
        
        # –ê–≤—Ç–æ—Å–∫—Ä—ã—Ç–∏–µ
        QTimer.singleShot(duration, self.hide_animated)
    
    def show_at_bottom_right(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É"""
        screen = QApplication.primaryScreen().geometry()
        self.move(
            screen.width() - self.width() - 20,
            screen.height() - self.height() - 60
        )
        self.show()
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
# –í–º–µ—Å—Ç–æ
QMessageBox.information(self, "–£—Å–ø–µ—Ö", "–§–∞–π–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω")

# –ò—Å–ø–æ–ª—å–∑—É–µ–º
show_toast("–§–∞–π–ª –æ–±—Ä–∞–±–æ—Ç–∞–Ω —É—Å–ø–µ—à–Ω–æ", "success")
```

#### B. Notification Center
**–§—É–Ω–∫—Ü–∏–∏:**
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —Å–µ—Å—Å–∏–∏
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—é
- –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –ø—Ä–æ–±–ª–µ–º–µ

#### C. Progress System
**–ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å:**

```python
class ProgressManager(QObject):
    """–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑–æ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞"""
    
    def __init__(self):
        self.operations = {}
        
    def start_operation(self, op_id, title, total_steps):
        """–ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏"""
        self.operations[op_id] = {
            'title': title,
            'current': 0,
            'total': total_steps,
            'started': time.time(),
            'status': 'running'
        }
        
    def update_operation(self, op_id, current, status_text=""):
        """–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å"""
        op = self.operations[op_id]
        op['current'] = current
        op['status_text'] = status_text
        
        # –í—ã—á–∏—Å–ª—è–µ–º ETA
        elapsed = time.time() - op['started']
        if current > 0:
            total_time = elapsed * op['total'] / current
            eta = total_time - elapsed
            op['eta'] = eta
```

**UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ üîÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤                  ‚îÇ
‚îÇ ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ 45%      ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ‚îú‚îÄ –ó–∞–≥—Ä—É–∑–∫–∞ –º–æ–¥–µ–ª–∏          ‚úÖ Done     ‚îÇ
‚îÇ ‚îú‚îÄ –û–±—Ä–∞–±–æ—Ç–∫–∞ OCR            üîÑ 15/30    ‚îÇ
‚îÇ ‚îî‚îÄ –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö        ‚è≥ Pending  ‚îÇ
‚îÇ                                          ‚îÇ
‚îÇ ETA: 2 –º–∏–Ω 30 —Å–µ–∫          [Cancel]     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### ‚ö° –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 4: –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

#### A. Keyboard Shortcuts
**–û—Å–Ω–æ–≤–Ω—ã–µ:**
- `Ctrl+O` - Open file
- `Ctrl+Shift+O` - Open folder (batch)
- `Ctrl+P` / `F5` - Process current
- `Ctrl+S` - Save results
- `Ctrl+E` - Export
- `Ctrl+,` - Settings
- `F1` - Help
- `Ctrl+Q` - Quit

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ:**
- `Ctrl+1..5` - –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –º–æ–¥–µ–ª–∏
- `Ctrl+B` - Batch mode
- `Ctrl+T` - Training dialog
- `Ctrl+L` - View logs

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
```python
def setup_shortcuts(self):
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à"""
    shortcuts = {
        'Ctrl+O': self.open_file_dialog,
        'Ctrl+P': self.process_current,
        'Ctrl+S': self.save_results,
        'F1': self.show_help,
        # ... –∏ —Ç.–¥.
    }
    
    for key, handler in shortcuts.items():
        shortcut = QShortcut(QKeySequence(key), self)
        shortcut.activated.connect(handler)
```

#### B. Quick Actions Toolbar
**–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤:**

```python
class QuickActionsToolbar(QToolBar):
    """Toolbar —Å —á–∞—Å—Ç—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏"""
    
    def __init__(self):
        super().__init__()
        
        # –û—Å–Ω–æ–≤–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
        self.add_action("üìÇ –û—Ç–∫—Ä—ã—Ç—å", "Ctrl+O")
        self.add_action("üöÄ –û–±—Ä–∞–±–æ—Ç–∞—Ç—å", "Ctrl+P") 
        self.add_action("üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å", "Ctrl+S")
        self.addSeparator()
        
        # –ë—ã—Å—Ç—Ä—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
        self.model_combo = SmartModelSelector()
        self.addWidget(self.model_combo)
        self.addSeparator()
        
        # –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
        self.add_action("üìä Batch", "Ctrl+B")
        self.add_action("üéì Training", "Ctrl+T")
```

#### C. Context Menu Enhancement
**–ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ –≤ –Ω—É–∂–Ω–æ–º –º–µ—Å—Ç–µ:**

```python
def create_result_context_menu(self, field_name, value):
    """–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–µ –º–µ–Ω—é –¥–ª—è –ø–æ–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞"""
    menu = QMenu(self)
    
    menu.addAction("üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å", lambda: self.copy_to_clipboard(value))
    menu.addAction("‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å", lambda: self.edit_field(field_name))
    menu.addAction("üîç –ü–æ–∫–∞–∑–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–µ", lambda: self.highlight_in_doc(field_name))
    menu.addSeparator()
    menu.addAction("‚ùå –û—á–∏—Å—Ç–∏—Ç—å –ø–æ–ª–µ", lambda: self.clear_field(field_name))
    menu.addAction("üîÑ –ü–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–ª–µ", lambda: self.reprocess_field(field_name))
    
    return menu
```

#### D. Command History
**–ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–æ–≤—Ç–æ—Ä–∞:**

```python
class CommandHistory(QWidget):
    """–ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥"""
    
    def __init__(self):
        super().__init__()
        self.history = []
        
    def add_command(self, command, params):
        """–î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –≤ –∏—Å—Ç–æ—Ä–∏—é"""
        self.history.append({
            'command': command,
            'params': params,
            'timestamp': datetime.now(),
            'success': True
        })
        
    def repeat_command(self, index):
        """–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∫–æ–º–∞–Ω–¥—É –∏–∑ –∏—Å—Ç–æ—Ä–∏–∏"""
        cmd = self.history[index]
        self.execute_command(cmd['command'], cmd['params'])
```

### üéõÔ∏è –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 5: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è

#### A. Workspace Profiles
**–†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –∑–∞–¥–∞—á:**

```python
class WorkspaceProfile:
    """–ü—Ä–æ—Ñ–∏–ª—å —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞"""
    
    PROFILES = {
        'accountant': {
            'name': 'üè¢ –ë—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è',
            'default_model': 'layoutlm',
            'focus': 'accuracy',
            'visible_panels': ['preview', 'results', 'validation'],
            'auto_export': True,
            'export_format': 'excel'
        },
        'batch': {
            'name': 'üì¶ –ú–∞—Å—Å–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞',
            'default_model': 'gemini',
            'focus': 'speed',
            'visible_panels': ['file_list', 'batch_progress'],
            'auto_export': True,
            'export_format': 'json'
        },
        'research': {
            'name': 'üî¨ –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è',
            'default_model': 'auto',
            'focus': 'flexibility',
            'visible_panels': ['all'],
            'comparison_mode': True
        }
    }
```

**UI –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è:**
```python
# –í –≥–ª–∞–≤–Ω–æ–º –æ–∫–Ω–µ
profile_selector = QComboBox()
profile_selector.addItems([p['name'] for p in WorkspaceProfile.PROFILES.values()])
profile_selector.currentTextChanged.connect(self.apply_profile)
```

#### B. Adaptive UI
**–û–±—É—á–µ–Ω–∏–µ –Ω–∞ –ø–æ–≤–µ–¥–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

```python
class UserBehaviorAnalyzer:
    """–ê–Ω–∞–ª–∏–∑ –ø–æ–≤–µ–¥–µ–Ω–∏—è –¥–ª—è –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ UI"""
    
    def __init__(self):
        self.stats = {
            'most_used_model': Counter(),
            'frequent_exports': Counter(),
            'common_workflows': [],
            'error_prone_steps': []
        }
        
    def suggest_optimizations(self):
        """–ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏"""
        suggestions = []
        
        # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–Ω—É –º–æ–¥–µ–ª—å
        if self.stats['most_used_model'].most_common(1)[0][1] > 20:
            suggestions.append({
                'type': 'default_model',
                'message': '–í—ã —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ LayoutLM. –°–¥–µ–ª–∞—Ç—å –º–æ–¥–µ–ª—å—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é?'
            })
        
        # –ï—Å–ª–∏ —á–∞—Å—Ç–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤ –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç
        if self.stats['frequent_exports'].most_common(1)[0][1] > 15:
            suggestions.append({
                'type': 'auto_export',
                'message': '–í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—ç–∫—Å–ø–æ—Ä—Ç –≤ Excel –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏?'
            })
        
        return suggestions
```

#### C. Customizable Dashboard
**Drag & Drop –≤–∏–¥–∂–µ—Ç—ã:**

```python
class CustomizableDashboard(QWidget):
    """–ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –≥–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å"""
    
    def __init__(self):
        super().__init__()
        self.widgets = []
        
        # –î–æ—Å—Ç—É–ø–Ω—ã–µ –≤–∏–¥–∂–µ—Ç—ã
        self.available_widgets = {
            'quick_process': QuickProcessWidget(),
            'recent_files': RecentFilesWidget(),
            'stats': StatisticsWidget(),
            'tips': TipsWidget(),
            'model_status': ModelStatusWidget(),
            'api_usage': APIUsageWidget()
        }
        
    def add_widget(self, widget_id, position):
        """–î–æ–±–∞–≤–∏—Ç—å –≤–∏–¥–∂–µ—Ç –Ω–∞ dashboard"""
        widget = self.available_widgets[widget_id]
        self.layout().addWidget(widget, *position)
        self.widgets.append((widget_id, position))
        self.save_layout()
```

---

## üìê –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –î–∏–∑–∞–π–Ω—É (–¢–†–î)

### 1. üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å

#### 1.1 –¶–≤–µ—Ç–æ–≤–∞—è –ø–∞–ª–∏—Ç—Ä–∞

**–û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ª–∏—Ç—Ä–∞:**
```python
COLORS = {
    # –ë—Ä–µ–Ω–¥
    'primary': '#3498db',      # –û—Å–Ω–æ–≤–Ω–æ–π —Å–∏–Ω–∏–π
    'primary_dark': '#2980b9', # –¢–µ–º–Ω—ã–π —Å–∏–Ω–∏–π
    'primary_light': '#5dade2', # –°–≤–µ—Ç–ª—ã–π —Å–∏–Ω–∏–π
    
    # –ê–∫—Ü–µ–Ω—Ç—ã
    'success': '#27ae60',      # –£—Å–ø–µ—Ö/–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
    'warning': '#f39c12',      # –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    'error': '#e74c3c',        # –û—à–∏–±–∫–∞
    'info': '#3498db',         # –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    
    # –ù–µ–π—Ç—Ä–∞–ª—å–Ω—ã–µ
    'text_primary': '#2c3e50', # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç
    'text_secondary': '#7f8c8d', # –í—Ç–æ—Ä–∏—á–Ω—ã–π —Ç–µ–∫—Å—Ç
    'text_hint': '#95a5a6',    # –ü–æ–¥—Å–∫–∞–∑–∫–∏
    
    # –§–æ–Ω—ã
    'background': '#ecf0f1',   # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–æ–Ω
    'surface': '#ffffff',      # –ü–æ–≤–µ—Ä—Ö–Ω–æ—Å—Ç–∏ (–∫–∞—Ä—Ç–æ—á–∫–∏)
    'hover': '#e8f4f8',        # –ù–∞–≤–µ–¥–µ–Ω–∏–µ
    'disabled': '#bdc3c7',     # –û—Ç–∫–ª—é—á–µ–Ω–æ
    
    # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
    'model_layoutlm': '#9b59b6',  # LayoutLM
    'model_donut': '#e67e22',     # Donut
    'model_gemini': '#1abc9c',    # Gemini
}
```

**–¢–µ–º–Ω–∞—è —Ç–µ–º–∞:**
```python
DARK_COLORS = {
    'primary': '#5dade2',
    'background': '#1e272e',
    'surface': '#2c3e50',
    'text_primary': '#ecf0f1',
    'text_secondary': '#95a5a6',
    'hover': '#34495e',
}
```

#### 1.2 –¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞

```python
TYPOGRAPHY = {
    # –ó–∞–≥–æ–ª–æ–≤–∫–∏
    'h1': {'size': 24, 'weight': 'bold', 'line_height': 1.2},
    'h2': {'size': 20, 'weight': 'bold', 'line_height': 1.3},
    'h3': {'size': 16, 'weight': 'bold', 'line_height': 1.4},
    'h4': {'size': 14, 'weight': 'bold', 'line_height': 1.4},
    
    # –¢–µ–ª–æ
    'body': {'size': 12, 'weight': 'normal', 'line_height': 1.5},
    'body_large': {'size': 14, 'weight': 'normal', 'line_height': 1.5},
    'body_small': {'size': 10, 'weight': 'normal', 'line_height': 1.5},
    
    # –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ
    'button': {'size': 12, 'weight': 'medium', 'line_height': 1.0},
    'caption': {'size': 10, 'weight': 'normal', 'line_height': 1.4},
    'code': {'size': 11, 'weight': 'normal', 'line_height': 1.6, 'family': 'Consolas'},
}

# –®—Ä–∏—Ñ—Ç—ã
FONTS = {
    'primary': 'Segoe UI',  # Windows
    'fallback': ['Roboto', 'Arial', 'sans-serif'],
    'monospace': 'Consolas'
}
```

#### 1.3 –ò–∫–æ–Ω–∫–∏

**–°–∏—Å—Ç–µ–º–∞ –∏–∫–æ–Ω–æ–∫:**
- –ò—Å–ø–æ–ª—å–∑—É–µ–º emoji –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∞–∫—Ü–µ–Ω—Ç–æ–≤
- FontAwesome –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π
- Custom SVG –¥–ª—è –±—Ä–µ–Ω–¥–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤

```python
ICONS = {
    # –î–µ–π—Å—Ç–≤–∏—è
    'process': 'üöÄ',
    'save': 'üíæ',
    'export': 'üì§',
    'import': 'üì•',
    'settings': '‚öôÔ∏è',
    'help': '‚ùì',
    
    # –ú–æ–¥–µ–ª–∏
    'layoutlm': 'üéØ',
    'donut': 'üç©',
    'gemini': 'üíé',
    'auto': 'ü§ñ',
    
    # –°—Ç–∞—Ç—É—Å—ã
    'success': '‚úÖ',
    'error': '‚ùå',
    'warning': '‚ö†Ô∏è',
    'info': '‚ÑπÔ∏è',
    'loading': 'üîÑ',
    
    # –§–∞–π–ª—ã
    'file': 'üìÑ',
    'folder': 'üìÅ',
    'image': 'üñºÔ∏è',
    'pdf': 'üìï',
}
```

### 2. üìè –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI

#### 2.1 –ö–Ω–æ–ø–∫–∏

**–¢–∏–ø—ã –∫–Ω–æ–ø–æ–∫:**

```python
class ButtonStyles:
    """–°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–æ–∫"""
    
    PRIMARY = """
        QPushButton {
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 600;
        }
        QPushButton:hover {
            background-color: #2980b9;
        }
        QPushButton:pressed {
            background-color: #1c5985;
        }
        QPushButton:disabled {
            background-color: #bdc3c7;
            color: #7f8c8d;
        }
    """
    
    SECONDARY = """
        QPushButton {
            background-color: transparent;
            color: #3498db;
            border: 2px solid #3498db;
            border-radius: 6px;
            padding: 8px 16px;
            font-size: 12px;
            font-weight: 600;
        }
        QPushButton:hover {
            background-color: #e8f4f8;
        }
    """
    
    SUCCESS = """
        QPushButton {
            background-color: #27ae60;
            color: white;
            /* ... */
        }
    """
    
    DANGER = """
        QPushButton {
            background-color: #e74c3c;
            color: white;
            /* ... */
        }
    """
    
    TEXT = """
        QPushButton {
            background-color: transparent;
            color: #3498db;
            border: none;
            padding: 8px 12px;
            font-size: 12px;
        }
        QPushButton:hover {
            background-color: #e8f4f8;
            border-radius: 4px;
        }
    """
```

**–†–∞–∑–º–µ—Ä—ã:**
```python
BUTTON_SIZES = {
    'small': {'height': 28, 'padding': '6px 12px', 'font_size': 11},
    'medium': {'height': 36, 'padding': '8px 16px', 'font_size': 12},
    'large': {'height': 44, 'padding': '10px 20px', 'font_size': 14},
}
```

#### 2.2 –ü–æ–ª—è –≤–≤–æ–¥–∞

```python
INPUT_STYLE = """
    QLineEdit, QTextEdit, QSpinBox, QDoubleSpinBox, QComboBox {
        background-color: white;
        border: 2px solid #bdc3c7;
        border-radius: 6px;
        padding: 8px 12px;
        font-size: 12px;
        color: #2c3e50;
    }
    
    QLineEdit:focus, QTextEdit:focus {
        border-color: #3498db;
        background-color: #f8fbfd;
    }
    
    QLineEdit:hover, QTextEdit:hover {
        border-color: #95a5a6;
    }
    
    QLineEdit:disabled, QTextEdit:disabled {
        background-color: #ecf0f1;
        color: #7f8c8d;
        border-color: #d5dbdb;
    }
    
    /* Placeholder text */
    QLineEdit::placeholder {
        color: #95a5a6;
        font-style: italic;
    }
"""
```

#### 2.3 –¢–∞–±–ª–∏—Ü—ã

```python
TABLE_STYLE = """
    QTableWidget {
        background-color: white;
        border: 1px solid #d5dbdb;
        border-radius: 8px;
        gridline-color: #ecf0f1;
    }
    
    QTableWidget::item {
        padding: 8px;
        border: none;
    }
    
    QTableWidget::item:selected {
        background-color: #e8f4f8;
        color: #2c3e50;
    }
    
    QTableWidget::item:hover {
        background-color: #f4f6f7;
    }
    
    QHeaderView::section {
        background-color: #ecf0f1;
        color: #2c3e50;
        padding: 10px;
        border: none;
        font-weight: 600;
        text-align: left;
    }
    
    QHeaderView::section:hover {
        background-color: #d5dbdb;
    }
"""
```

#### 2.4 –ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

```python
PROGRESS_STYLE = """
    QProgressBar {
        border: 2px solid #d5dbdb;
        border-radius: 8px;
        background-color: #ecf0f1;
        height: 24px;
        text-align: center;
        font-size: 11px;
        font-weight: 600;
        color: #2c3e50;
    }
    
    QProgressBar::chunk {
        background-color: qlineargradient(
            x1: 0, y1: 0, x2: 1, y2: 0,
            stop: 0 #3498db, stop: 1 #5dade2
        );
        border-radius: 6px;
    }
    
    /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–π –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ */
    QProgressBar:indeterminate::chunk {
        background-color: #3498db;
        width: 30px;
    }
"""
```

#### 2.5 –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (Toast)

```python
class ToastNotification(QWidget):
    """–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ"""
    
    STYLE_TEMPLATE = """
        QWidget {{
            background-color: {bg_color};
            border-left: 4px solid {accent_color};
            border-radius: 8px;
            padding: 12px 16px;
        }}
        
        QLabel {{
            color: {text_color};
            font-size: 12px;
        }}
    """
    
    STYLES = {
        'info': {
            'bg_color': '#ebf5fb',
            'accent_color': '#3498db',
            'text_color': '#21618c',
            'icon': '‚ÑπÔ∏è'
        },
        'success': {
            'bg_color': '#eafaf1',
            'accent_color': '#27ae60',
            'text_color': '#186a3b',
            'icon': '‚úÖ'
        },
        'warning': {
            'bg_color': '#fef5e7',
            'accent_color': '#f39c12',
            'text_color': '#9c640c',
            'icon': '‚ö†Ô∏è'
        },
        'error': {
            'bg_color': '#fadbd8',
            'accent_color': '#e74c3c',
            'text_color': '#943126',
            'icon': '‚ùå'
        }
    }
```

#### 2.6 –î–∏–∞–ª–æ–≥–æ–≤—ã–µ –æ–∫–Ω–∞

```python
DIALOG_STYLE = """
    QDialog {
        background-color: white;
    }
    
    QDialog QLabel#title {
        font-size: 18px;
        font-weight: bold;
        color: #2c3e50;
        padding-bottom: 8px;
    }
    
    QDialog QLabel#description {
        font-size: 12px;
        color: #7f8c8d;
        padding-bottom: 16px;
    }
    
    QDialog QGroupBox {
        border: 2px solid #ecf0f1;
        border-radius: 8px;
        margin-top: 12px;
        padding-top: 8px;
        font-weight: 600;
    }
    
    QDialog QGroupBox::title {
        subcontrol-origin: margin;
        subcontrol-position: top left;
        padding: 0 8px;
        color: #2c3e50;
    }
"""
```

### 3. üéØ Layout –∏ Grid System

#### 3.1 Spacing

```python
SPACING = {
    'xs': 4,   # –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–π
    'sm': 8,   # –ú–∞–ª–µ–Ω—å–∫–∏–π
    'md': 16,  # –°—Ä–µ–¥–Ω–∏–π (—Å—Ç–∞–Ω–¥–∞—Ä—Ç)
    'lg': 24,  # –ë–æ–ª—å—à–æ–π
    'xl': 32,  # –û—á–µ–Ω—å –±–æ–ª—å—à–æ–π
    'xxl': 48, # –û–≥—Ä–æ–º–Ω—ã–π
}

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
layout.setSpacing(SPACING['md'])
layout.setContentsMargins(SPACING['lg'], SPACING['md'], SPACING['lg'], SPACING['md'])
```

#### 3.2 Grid System

```python
class ResponsiveLayout:
    """–ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–µ—Ç–∫–∞"""
    
    # Breakpoints
    BREAKPOINTS = {
        'xs': 0,     # Extra small (–≤—Å–µ–≥–¥–∞)
        'sm': 600,   # Small
        'md': 960,   # Medium
        'lg': 1280,  # Large
        'xl': 1920,  # Extra large
    }
    
    def get_columns(self, window_width):
        """–ü–æ–ª—É—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫ –ø–æ —à–∏—Ä–∏–Ω–µ"""
        if window_width >= self.BREAKPOINTS['xl']:
            return 12
        elif window_width >= self.BREAKPOINTS['lg']:
            return 8
        elif window_width >= self.BREAKPOINTS['md']:
            return 6
        elif window_width >= self.BREAKPOINTS['sm']:
            return 4
        else:
            return 2
```

### 4. ‚ôø –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (Accessibility)

#### 4.1 –ö–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞

```python
def check_contrast_ratio(fg_color, bg_color):
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–∞ –∫–æ–Ω—Ç—Ä–∞—Å—Ç–Ω–æ—Å—Ç–∏ WCAG"""
    ratio = calculate_contrast(fg_color, bg_color)
    
    # WCAG AA: –º–∏–Ω–∏–º—É–º 4.5:1 –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    # WCAG AAA: –º–∏–Ω–∏–º—É–º 7:1 –¥–ª—è –æ–±—ã—á–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
    return ratio >= 4.5

# –í—Å–µ —Ü–≤–µ—Ç–æ–≤—ã–µ –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å WCAG AA
```

#### 4.2 Keyboard Navigation

```python
def setup_tab_order(self):
    """–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Ä—è–¥–∫–∞ —Ç–∞–±—É–ª—è—Ü–∏–∏"""
    widgets = [
        self.file_selector,
        self.model_selector,
        self.process_button,
        self.results_table,
        self.export_button,
    ]
    
    for i in range(len(widgets) - 1):
        self.setTabOrder(widgets[i], widgets[i + 1])
```

#### 4.3 Screen Reader Support

```python
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–º–µ–Ω –¥–ª—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤
button.setAccessibleName("–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç")
button.setAccessibleDescription("–ù–∞—á–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ç–µ–∫—É—â–µ–π –º–æ–¥–µ–ª–∏")

# –†–æ–ª–∏ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
table.setAccessibleName("–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö")
table.setAccessibleDescription("–¢–∞–±–ª–∏—Ü–∞ —Å –∏–∑–≤–ª–µ—á–µ–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏ —Å—á–µ—Ç–∞-—Ñ–∞–∫—Ç—É—Ä—ã")
```

### 5. üåç –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

#### 5.1 –°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤

```python
# –í—Å–µ —Å—Ç—Ä–æ–∫–∏ —á–µ—Ä–µ–∑ self.tr()
button.setText(self.tr("–û–±—Ä–∞–±–æ—Ç–∞—Ç—å"))
message = self.tr("–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ —Ñ–∞–π–ª–æ–≤: {count}").format(count=processed)

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª
from babel.numbers import format_decimal
amount = format_decimal(1234.56, locale='ru_RU')  # "1 234,56"

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—Ç
from babel.dates import format_date
date_str = format_date(date_obj, format='long', locale='ru_RU')  # "3 –æ–∫—Ç—è–±—Ä—è 2025 –≥."
```

#### 5.2 –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

- üá∑üá∫ –†—É—Å—Å–∫–∏–π (–æ—Å–Ω–æ–≤–Ω–æ–π)
- üá¨üáß English (secondary)
- üá©üá™ Deutsch (planned)
- üá´üá∑ Fran√ßais (planned)

### 6. üì± Responsive Design

#### 6.1 –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã –æ–∫–æ–Ω

```python
WINDOW_SIZES = {
    'min_width': 1024,
    'min_height': 768,
    'default_width': 1400,
    'default_height': 900,
    'compact_mode_threshold': 1280,  # –ù–∏–∂–µ —ç—Ç–æ–≥–æ - –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º
}
```

#### 6.2 –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```python
class ResponsiveMainWindow(QMainWindow):
    """–û–∫–Ω–æ —Å –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–º layout"""
    
    def resizeEvent(self, event):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞"""
        super().resizeEvent(event)
        
        width = event.size().width()
        
        # –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ layout –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∏—Ä–∏–Ω—ã
        if width < 1280:
            self.switch_to_compact_mode()
        else:
            self.switch_to_normal_mode()
    
    def switch_to_compact_mode(self):
        """–ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤"""
        # –°–∫—Ä—ã—Ç—å –±–æ–∫–æ–≤—É—é –ø–∞–Ω–µ–ª—å
        self.sidebar.hide()
        # –£–º–µ–Ω—å—à–∏—Ç—å –ø—Ä–µ–≤—å—é
        self.preview.setMaximumWidth(300)
        # –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tabs –≤–º–µ—Å—Ç–æ split view
        self.use_tabbed_interface()
```

### 7. üé¨ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥—ã

#### 7.1 –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```python
ANIMATION_DURATIONS = {
    'instant': 0,       # –ë–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏
    'fast': 150,        # –ë—ã—Å—Ç—Ä–æ
    'normal': 250,      # –°—Ç–∞–Ω–¥–∞—Ä—Ç
    'slow': 400,        # –ú–µ–¥–ª–µ–Ω–Ω–æ
    'very_slow': 700,   # –û—á–µ–Ω—å –º–µ–¥–ª–µ–Ω–Ω–æ
}
```

#### 7.2 Easing —Ñ—É–Ω–∫—Ü–∏–∏

```python
from PyQt6.QtCore import QEasingCurve

EASING = {
    'linear': QEasingCurve.Type.Linear,
    'ease_in': QEasingCurve.Type.InCubic,
    'ease_out': QEasingCurve.Type.OutCubic,
    'ease_in_out': QEasingCurve.Type.InOutCubic,
    'bounce': QEasingCurve.Type.OutBounce,
}
```

#### 7.3 –ü—Ä–∏–º–µ—Ä—ã –∞–Ω–∏–º–∞—Ü–∏–π

```python
def animate_button_click(button):
    """–ê–Ω–∏–º–∞—Ü–∏—è –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏"""
    animation = QPropertyAnimation(button, b"pos")
    animation.setDuration(ANIMATION_DURATIONS['fast'])
    animation.setEasingCurve(EASING['ease_out'])
    
    # –°–¥–≤–∏–≥ –≤–Ω–∏–∑ –∏ –æ–±—Ä–∞—Ç–Ω–æ
    start_pos = button.pos()
    animation.setKeyValueAt(0, start_pos)
    animation.setKeyValueAt(0.5, start_pos + QPoint(0, 2))
    animation.setKeyValueAt(1, start_pos)
    animation.start()

def fade_in_widget(widget, duration=ANIMATION_DURATIONS['normal']):
    """–ü–ª–∞–≤–Ω–æ–µ –ø–æ—è–≤–ª–µ–Ω–∏–µ –≤–∏–¥–∂–µ—Ç–∞"""
    effect = QGraphicsOpacityEffect(widget)
    widget.setGraphicsEffect(effect)
    
    animation = QPropertyAnimation(effect, b"opacity")
    animation.setDuration(duration)
    animation.setStartValue(0)
    animation.setEndValue(1)
    animation.setEasingCurve(EASING['ease_in'])
    animation.start()
```

---

## üöÄ –ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. ü§ñ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏

#### A. AI Assistant –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏

```python
class ModelRecommendationEngine:
    """AI –ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–æ–¥–µ–ª–∏"""
    
    def analyze_document(self, file_path: str) -> Dict[str, Any]:
        """–ê–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"""
        features = {
            'has_text_layer': self._check_text_layer(file_path),
            'image_quality': self._assess_quality(file_path),
            'document_complexity': self._analyze_structure(file_path),
            'file_size': os.path.getsize(file_path),
            'language': self._detect_language(file_path)
        }
        
        return self._recommend_model(features)
    
    def _recommend_model(self, features):
        """–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤"""
        recommendations = []
        
        # PDF —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Å–ª–æ–µ–º
        if features['has_text_layer']:
            recommendations.append({
                'model': 'gemini',
                'confidence': 0.95,
                'reason': 'PDF —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Å–ª–æ–µ–º - Gemini –¥–∞—Å—Ç –±—ã—Å—Ç—Ä—ã–π –∏ —Ç–æ—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç',
                'expected_time': '3-5 —Å–µ–∫'
            })
        
        # –°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞
        if features['document_complexity'] > 0.7:
            recommendations.append({
                'model': 'layoutlm',
                'confidence': 0.90,
                'reason': '–°–ª–æ–∂–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - LayoutLM –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞–µ—Ç layout',
                'expected_time': '10-15 —Å–µ–∫'
            })
        
        # –ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
        if features['image_quality'] < 0.5:
            recommendations.append({
                'model': 'donut',
                'confidence': 0.85,
                'reason': '–ù–∏–∑–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - Donut –±–æ–ª–µ–µ —Ä–æ–±–∞—Å—Ç–µ–Ω',
                'expected_time': '8-12 —Å–µ–∫'
            })
        
        return sorted(recommendations, key=lambda x: x['confidence'], reverse=True)
```

**UI –¥–ª—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π:**
```python
class ModelRecommendationWidget(QWidget):
    """–í–∏–¥–∂–µ—Ç —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏ AI"""
    
    def show_recommendations(self, recommendations):
        """–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏"""
        # –¢–æ–ø —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è
        top = recommendations[0]
        
        self.recommendation_label.setText(
            f"ü§ñ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è: {top['model'].upper()}\n"
            f"–ü—Ä–∏—á–∏–Ω–∞: {top['reason']}\n"
            f"‚è±Ô∏è –û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è: {top['expected_time']}\n"
            f"üìä –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {top['confidence']*100:.0f}%"
        )
        
        # –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã
        self.alternatives_list.clear()
        for alt in recommendations[1:]:
            self.alternatives_list.addItem(
                f"{alt['model']} ({alt['confidence']*100:.0f}%): {alt['reason']}"
            )
```

#### B. Smart Field Validation

```python
class FieldValidator:
    """–£–º–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π"""
    
    PATTERNS = {
        'inn': r'^\d{10}|\d{12}$',
        'invoice_number': r'^[A-Z–ê-–Ø0-9-/]+$',
        'amount': r'^\d+(\.\d{2})?$',
        'date': r'^\d{2}\.\d{2}\.\d{4}$'
    }
    
    def validate_field(self, field_name, value, confidence):
        """–í–∞–ª–∏–¥–∞—Ü–∏—è —Å —É—á–µ—Ç–æ–º confidence"""
        issues = []
        suggestions = []
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞
        if not re.match(self.PATTERNS.get(field_name, '.*'), value):
            issues.append({
                'severity': 'error',
                'message': f'–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ø–æ–ª—è {field_name}',
                'suggestion': self._suggest_format(field_name, value)
            })
        
        # –ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
        if confidence < 0.7:
            issues.append({
                'severity': 'warning',
                'message': f'–ù–∏–∑–∫–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å ({confidence:.0%})',
                'suggestion': '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä—É—á–Ω—É—é'
            })
        
        # –ú–µ–∂–ø–æ–ª–µ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
        cross_field_issues = self._validate_cross_field(field_name, value)
        issues.extend(cross_field_issues)
        
        return {
            'valid': len([i for i in issues if i['severity'] == 'error']) == 0,
            'issues': issues,
            'suggestions': suggestions
        }
    
    def _validate_cross_field(self, field_name, value):
        """–ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π"""
        issues = []
        
        # –ù–∞–ø—Ä–∏–º–µ—Ä, —Å—É–º–º–∞ —Å –ù–î–° –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –±–æ–ª—å—à–µ —Å—É–º–º—ã –±–µ–∑ –ù–î–°
        if field_name == 'total_amount':
            amount_without_vat = self.get_field_value('amount_without_vat')
            if float(value) < float(amount_without_vat):
                issues.append({
                    'severity': 'error',
                    'message': '–û–±—â–∞—è —Å—É–º–º–∞ –º–µ–Ω—å—à–µ —Å—É–º–º—ã –±–µ–∑ –ù–î–°',
                    'suggestion': '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞—Å—á–µ—Ç—ã'
                })
        
        return issues
```

#### C. Automatic Error Recovery

```python
class ErrorRecoverySystem:
    """–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫"""
    
    def handle_processing_error(self, error, context):
        """–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–∫–∏ —Å –ø–æ–ø—ã—Ç–∫–æ–π –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"""
        recovery_strategies = []
        
        # –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥–µ–ª–∏
        if isinstance(error, ModelLoadError):
            recovery_strategies = [
                ('reload_model', '–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å'),
                ('use_fallback_model', '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–Ω—É—é –º–æ–¥–µ–ª—å'),
                ('download_model', '–°–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å –∑–∞–Ω–æ–≤–æ'),
            ]
        
        # –û—à–∏–±–∫–∞ –ø–∞–º—è—Ç–∏
        elif isinstance(error, MemoryError):
            recovery_strategies = [
                ('reduce_batch_size', '–£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä –±–∞—Ç—á–∞'),
                ('use_cpu', '–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ CPU'),
                ('clear_cache', '–û—á–∏—Å—Ç–∏—Ç—å –∫—ç—à'),
            ]
        
        # –û—à–∏–±–∫–∞ OCR
        elif isinstance(error, OCRError):
            recovery_strategies = [
                ('retry_with_preprocessing', '–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å –ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–æ–π'),
                ('use_alternative_ocr', '–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π OCR'),
                ('increase_resolution', '–£–≤–µ–ª–∏—á–∏—Ç—å —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ'),
            ]
        
        # –ü–æ–ø—ã—Ç–∫–∞ –∞–≤—Ç–æ–≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
        for strategy_func, description in recovery_strategies:
            try:
                result = getattr(self, strategy_func)(context)
                if result:
                    return {
                        'recovered': True,
                        'strategy': description,
                        'result': result
                    }
            except Exception as e:
                logger.warning(f"Recovery strategy {strategy_func} failed: {e}")
                continue
        
        return {'recovered': False, 'strategies_tried': len(recovery_strategies)}
```

### 2. üìä –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞

#### A. Processing Analytics Dashboard

```python
class AnalyticsDashboard(QWidget):
    """–ü–∞–Ω–µ–ª—å –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
    
    def __init__(self):
        super().__init__()
        self.stats = self.load_stats()
        
        # –í–∏–¥–∂–µ—Ç—ã –º–µ—Ç—Ä–∏–∫
        self.total_processed = MetricWidget("üìÑ –û–±—Ä–∞–±–æ—Ç–∞–Ω–æ", self.stats['total'])
        self.success_rate = MetricWidget("‚úÖ –£—Å–ø–µ—à–Ω–æ", f"{self.stats['success_rate']:.1f}%")
        self.avg_time = MetricWidget("‚è±Ô∏è –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è", f"{self.stats['avg_time']:.1f}—Å")
        self.api_cost = MetricWidget("üí∞ –ó–∞—Ç—Ä–∞—Ç—ã API", f"${self.stats['api_cost']:.2f}")
        
        # –ì—Ä–∞—Ñ–∏–∫–∏
        self.model_usage_chart = self.create_model_usage_chart()
        self.time_trend_chart = self.create_time_trend_chart()
        self.accuracy_chart = self.create_accuracy_chart()
    
    def create_model_usage_chart(self):
        """–ì—Ä–∞—Ñ–∏–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π"""
        # –ò—Å–ø–æ–ª—å–∑—É–µ–º matplotlib –∏–ª–∏ plotly
        import matplotlib.pyplot as plt
        from matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg
        
        fig, ax = plt.subplots(figsize=(6, 4))
        
        models = self.stats['model_usage'].keys()
        counts = self.stats['model_usage'].values()
        
        ax.pie(counts, labels=models, autopct='%1.1f%%')
        ax.set_title('–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π')
        
        canvas = FigureCanvasQTAgg(fig)
        return canvas
```

#### B. Quality Metrics

```python
class QualityMetrics:
    """–ú–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è"""
    
    def calculate_extraction_quality(self, results, ground_truth=None):
        """–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è"""
        metrics = {}
        
        # Completeness - –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π
        total_fields = len(results)
        filled_fields = sum(1 for v in results.values() if v and v != 'N/A')
        metrics['completeness'] = filled_fields / total_fields if total_fields > 0 else 0
        
        # Confidence - —Å—Ä–µ–¥–Ω—è—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å
        confidences = [r['confidence'] for r in results.values() if isinstance(r, dict) and 'confidence' in r]
        metrics['avg_confidence'] = sum(confidences) / len(confidences) if confidences else 0
        
        # Consistency - —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –ø–æ–ª—è–º–∏
        metrics['consistency'] = self._check_consistency(results)
        
        # Accuracy - —Ç–æ—á–Ω–æ—Å—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å ground truth)
        if ground_truth:
            metrics['accuracy'] = self._calculate_accuracy(results, ground_truth)
        
        # –û–±—â–∏–π score
        weights = {
            'completeness': 0.3,
            'avg_confidence': 0.3,
            'consistency': 0.2,
            'accuracy': 0.2
        }
        
        metrics['overall_score'] = sum(
            metrics.get(k, 0) * v for k, v in weights.items()
        )
        
        return metrics
    
    def _check_consistency(self, results):
        """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª–µ–π"""
        issues = 0
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É–º–º—ã
        amount = float(results.get('amount_without_vat', 0))
        vat_amount = float(results.get('vat_amount', 0))
        total = float(results.get('total_amount', 0))
        
        if abs(amount + vat_amount - total) > 0.01:
            issues += 1
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –ù–î–°
        if vat_amount > 0 and amount > 0:
            vat_percent = (vat_amount / amount) * 100
            expected_vat = float(results.get('vat_percent', 0))
            if abs(vat_percent - expected_vat) > 1:
                issues += 1
        
        return 1 - (issues / 2)  # –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º
```

### 3. üîÑ Workflow Automation

#### A. Custom Workflow Builder

```python
class WorkflowBuilder(QWidget):
    """–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä workflow'–æ–≤"""
    
    def __init__(self):
        super().__init__()
        self.workflow_steps = []
        
        # –î–æ—Å—Ç—É–ø–Ω—ã–µ —à–∞–≥–∏
        self.available_steps = {
            'input': InputStep(),
            'preprocess': PreprocessStep(),
            'ocr': OCRStep(),
            'extract': ExtractionStep(),
            'validate': ValidationStep(),
            'export': ExportStep(),
            'notify': NotificationStep(),
        }
    
    def create_workflow(self):
        """–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π workflow"""
        workflow = Workflow()
        
        # Drag & drop –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —à–∞–≥–æ–≤
        # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
        # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ template
        
        return workflow

class Workflow:
    """–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π workflow"""
    
    def __init__(self, name="", steps=None):
        self.name = name
        self.steps = steps or []
        self.status = 'idle'
    
    def execute(self, input_data):
        """–í—ã–ø–æ–ª–Ω–∏—Ç—å workflow"""
        result = input_data
        
        for step in self.steps:
            try:
                result = step.execute(result)
                self.emit_progress(step)
            except Exception as e:
                self.handle_error(step, e)
                if step.fail_strategy == 'abort':
                    raise
                elif step.fail_strategy == 'skip':
                    continue
                elif step.fail_strategy == 'retry':
                    result = self.retry_step(step, result)
        
        return result
```

#### B. Batch Processing Templates

```python
class BatchTemplate:
    """–®–∞–±–ª–æ–Ω –¥–ª—è batch –æ–±—Ä–∞–±–æ—Ç–∫–∏"""
    
    TEMPLATES = {
        'fast_scan': {
            'name': '‚ö° –ë—ã—Å—Ç—Ä–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ',
            'model': 'gemini',
            'parallel': 4,
            'export_format': 'json',
            'auto_validate': False,
            'description': '–ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
        },
        'accurate_accounting': {
            'name': 'üéØ –¢–æ—á–Ω–∞—è –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—è',
            'model': 'layoutlm',
            'parallel': 2,
            'export_format': 'excel',
            'auto_validate': True,
            'cross_check': True,
            'description': '–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π'
        },
        'archive_digitization': {
            'name': 'üìö –û—Ü–∏—Ñ—Ä–æ–≤–∫–∞ –∞—Ä—Ö–∏–≤–∞',
            'model': 'donut',
            'parallel': 3,
            'export_format': 'json',
            'create_searchable_pdf': True,
            'description': '–ú–∞—Å—Å–æ–≤–∞—è –æ—Ü–∏—Ñ—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤'
        }
    }
```

### 4. üîå –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

#### A. Webhook System

```python
class WebhookManager:
    """–°–∏—Å—Ç–µ–º–∞ –≤–µ–±-—Ö—É–∫–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π"""
    
    def __init__(self):
        self.webhooks = []
    
    def add_webhook(self, event_type, url, config):
        """–î–æ–±–∞–≤–∏—Ç—å webhook"""
        webhook = {
            'event_type': event_type,  # 'document_processed', 'batch_completed', etc.
            'url': url,
            'method': config.get('method', 'POST'),
            'headers': config.get('headers', {}),
            'auth': config.get('auth'),
            'retry_count': config.get('retry_count', 3),
            'timeout': config.get('timeout', 30),
        }
        self.webhooks.append(webhook)
    
    def trigger_webhook(self, event_type, data):
        """–û—Ç–ø—Ä–∞–≤–∏—Ç—å webhook"""
        matching_webhooks = [w for w in self.webhooks if w['event_type'] == event_type]
        
        for webhook in matching_webhooks:
            self._send_webhook(webhook, data)
    
    def _send_webhook(self, webhook, data):
        """–û—Ç–ø—Ä–∞–≤–∫–∞ webhook —Å retry –ª–æ–≥–∏–∫–æ–π"""
        import requests
        
        payload = {
            'event': webhook['event_type'],
            'timestamp': datetime.now().isoformat(),
            'data': data
        }
        
        for attempt in range(webhook['retry_count']):
            try:
                response = requests.request(
                    method=webhook['method'],
                    url=webhook['url'],
                    json=payload,
                    headers=webhook['headers'],
                    auth=webhook.get('auth'),
                    timeout=webhook['timeout']
                )
                response.raise_for_status()
                logger.info(f"Webhook sent successfully: {webhook['url']}")
                break
            except Exception as e:
                logger.warning(f"Webhook attempt {attempt+1} failed: {e}")
                if attempt == webhook['retry_count'] - 1:
                    logger.error(f"Webhook failed after {webhook['retry_count']} attempts")
```

#### B. Cloud Storage Integration

```python
class CloudStorageIntegration:
    """–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–±–ª–∞—á–Ω—ã–º–∏ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞–º–∏"""
    
    PROVIDERS = ['dropbox', 'google_drive', 'onedrive', 's3', 'azure_blob']
    
    def __init__(self, provider, credentials):
        self.provider = provider
        self.client = self._init_client(provider, credentials)
    
    def upload_result(self, file_path, remote_path):
        """–ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –æ–±–ª–∞–∫–æ"""
        if self.provider == 'dropbox':
            return self._upload_dropbox(file_path, remote_path)
        elif self.provider == 'google_drive':
            return self._upload_gdrive(file_path, remote_path)
        # ... –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
    
    def create_shared_link(self, remote_path):
        """–°–æ–∑–¥–∞—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É"""
        if self.provider == 'dropbox':
            link = self.client.sharing_create_shared_link(remote_path)
            return link.url
        # ... –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
```

### 5. üéì Machine Learning Improvements

#### A. Active Learning

```python
class ActiveLearningSystem:
    """–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è"""
    
    def __init__(self, model):
        self.model = model
        self.uncertain_samples = []
        self.feedback_queue = []
    
    def identify_uncertain_predictions(self, results):
        """–ù–∞–π—Ç–∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è —Å –Ω–∏–∑–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é"""
        uncertain = []
        
        for field, data in results.items():
            if isinstance(data, dict) and 'confidence' in data:
                if data['confidence'] < 0.7:
                    uncertain.append({
                        'field': field,
                        'value': data['value'],
                        'confidence': data['confidence']
                    })
        
        return uncertain
    
    def request_user_feedback(self, uncertain_samples):
        """–ó–∞–ø—Ä–æ—Å–∏—Ç—å –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å —É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"""
        dialog = FeedbackDialog(uncertain_samples)
        if dialog.exec():
            feedback = dialog.get_feedback()
            self.feedback_queue.append(feedback)
            
            # –ï—Å–ª–∏ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ - –¥–æ–æ–±—É—á–∏—Ç—å
            if len(self.feedback_queue) >= 50:
                self.retrain_model()
    
    def retrain_model(self):
        """–î–æ–æ–±—É—á–∏—Ç—å –º–æ–¥–µ–ª—å –Ω–∞ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏"""
        # –°–æ–∑–¥–∞—Ç—å –¥–∞—Ç–∞—Å–µ—Ç –∏–∑ feedback
        training_data = self._prepare_training_data(self.feedback_queue)
        
        # –ó–∞–ø—É—Å—Ç–∏—Ç—å fine-tuning
        self.model.fine_tune(training_data)
        
        # –û—á–∏—Å—Ç–∏—Ç—å –æ—á–µ—Ä–µ–¥—å
        self.feedback_queue.clear()
```

#### B. Model Ensemble

```python
class ModelEnsemble:
    """–ê–Ω—Å–∞–º–±–ª—å –º–æ–¥–µ–ª–µ–π –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏"""
    
    def __init__(self, models, voting_strategy='weighted'):
        self.models = models
        self.voting_strategy = voting_strategy
        self.model_weights = self._calculate_weights()
    
    def predict(self, document):
        """–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –∞–Ω—Å–∞–º–±–ª—è"""
        predictions = []
        
        # –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –æ—Ç –≤—Å–µ—Ö –º–æ–¥–µ–ª–µ–π
        for model in self.models:
            pred = model.extract_invoice_data(document)
            predictions.append(pred)
        
        # –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è
        if self.voting_strategy == 'weighted':
            return self._weighted_voting(predictions)
        elif self.voting_strategy == 'majority':
            return self._majority_voting(predictions)
        elif self.voting_strategy == 'confidence':
            return self._confidence_based(predictions)
    
    def _weighted_voting(self, predictions):
        """–í–∑–≤–µ—à–µ–Ω–Ω–æ–µ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ"""
        ensemble_result = {}
        
        for field in predictions[0].keys():
            values = []
            weights = []
            
            for i, pred in enumerate(predictions):
                if field in pred:
                    values.append(pred[field]['value'])
                    confidence = pred[field].get('confidence', 0.5)
                    model_weight = self.model_weights[i]
                    weights.append(confidence * model_weight)
            
            # –í—ã–±—Ä–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –≤–µ—Å–æ–º
            if values:
                max_idx = weights.index(max(weights))
                ensemble_result[field] = {
                    'value': values[max_idx],
                    'confidence': max(weights),
                    'source': 'ensemble'
                }
        
        return ensemble_result
```

### 6. üì± Mobile & Web Interface

#### A. Web API

```python
from fastapi import FastAPI, UploadFile, File
from fastapi.responses import JSONResponse

app = FastAPI(title="InvoiceGemini API")

@app.post("/api/v1/process")
async def process_document(
    file: UploadFile = File(...),
    model: str = "auto",
    language: str = "ru"
):
    """–û–±—Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç —á–µ—Ä–µ–∑ API"""
    try:
        # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ñ–∞–π–ª
        file_path = save_upload(file)
        
        # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å
        processor = get_processor(model)
        results = processor.extract_invoice_data(file_path)
        
        return JSONResponse({
            'success': True,
            'results': results,
            'model_used': model,
            'processing_time': results.get('processing_time')
        })
    except Exception as e:
        return JSONResponse({
            'success': False,
            'error': str(e)
        }, status_code=500)

@app.get("/api/v1/models")
async def list_models():
    """–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π"""
    return {
        'models': [
            {'id': 'layoutlm', 'name': 'LayoutLMv3', 'status': 'available'},
            {'id': 'donut', 'name': 'Donut', 'status': 'available'},
            {'id': 'gemini', 'name': 'Gemini 2.0', 'status': 'available'},
        ]
    }

@app.get("/api/v1/health")
async def health_check():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è"""
    return {
        'status': 'healthy',
        'version': '1.0.0',
        'models_loaded': get_loaded_models(),
        'gpu_available': torch.cuda.is_available()
    }
```

#### B. Mobile App Companion

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
- –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—á–µ—Ç–æ–≤ –∫–∞–º–µ—Ä–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω–∞
- –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ desktop –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–ª–∏ cloud API
- –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ë–∞–∑–æ–≤–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# –°–µ—Ä–≤–µ—Ä –¥–ª—è –ø—Ä–∏–µ–º–∞ –æ—Ç –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
class MobileAPIServer:
    """–°–µ—Ä–≤–µ—Ä –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è"""
    
    def __init__(self, port=5000):
        self.port = port
        self.app = Flask(__name__)
        self.setup_routes()
    
    def setup_routes(self):
        @self.app.route('/mobile/scan', methods=['POST'])
        def receive_scan():
            image = request.files['image']
            device_id = request.form.get('device_id')
            
            # –û–±—Ä–∞–±–æ—Ç–∞—Ç—å
            results = self.process_image(image)
            
            # –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ
            return jsonify({
                'results': results,
                'edit_url': f'/mobile/edit/{results["id"]}'
            })
```

---

## üìÖ –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è UX (2-3 –Ω–µ–¥–µ–ª–∏)

**–ù–µ–¥–µ–ª—è 1:**
- ‚úÖ Onboarding Wizard
- ‚úÖ Welcome Dashboard
- ‚úÖ Toast Notification System
- ‚úÖ Smart Model Selector

**–ù–µ–¥–µ–ª—è 2:**
- ‚úÖ Redesigned Main Window
- ‚úÖ Keyboard Shortcuts
- ‚úÖ Quick Actions Toolbar
- ‚úÖ Context Menus

**–ù–µ–¥–µ–ª—è 3:**
- ‚úÖ Progress System
- ‚úÖ Error Recovery
- ‚úÖ Field Validation
- ‚úÖ Testing & Bug Fixes

### –§–∞–∑–∞ 2: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (3-4 –Ω–µ–¥–µ–ª–∏)

**–ù–µ–¥–µ–ª—è 4-5:**
- ‚úÖ AI Model Recommendations
- ‚úÖ Analytics Dashboard
- ‚úÖ Quality Metrics
- ‚úÖ Command History

**–ù–µ–¥–µ–ª—è 6-7:**
- ‚úÖ Workflow Builder
- ‚úÖ Batch Templates
- ‚úÖ Workspace Profiles
- ‚úÖ Adaptive UI

### –§–∞–∑–∞ 3: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (2-3 –Ω–µ–¥–µ–ª–∏)

**–ù–µ–¥–µ–ª—è 8-9:**
- ‚úÖ Webhook System
- ‚úÖ Cloud Storage Integration
- ‚úÖ Active Learning
- ‚úÖ Model Ensemble

**–ù–µ–¥–µ–ª—è 10:**
- ‚úÖ Testing & Optimization
- ‚úÖ Documentation
- ‚úÖ User Training Materials

### –§–∞–∑–∞ 4: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

- üîÑ Web API
- üîÑ Mobile App
- üîÑ Browser Extension
- üîÑ CLI Tool

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –¢–†–î –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ InvoiceGemini. –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–°–Ω–∏–∂–µ–Ω–∏–µ –ø–æ—Ä–æ–≥–∞ –≤—Ö–æ–¥–∞** —á–µ—Ä–µ–∑ onboarding –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Ç—É—Ä—ã
2. **–£–ª—É—á—à–µ–Ω–∏–µ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏** –∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
3. **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–º–æ—â–Ω–∏–∫–∏** –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å** —á–µ—Ä–µ–∑ toast notifications –∏ progress system
5. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è workflow** –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
6. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** –ø–æ–¥ —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
7. **–ù–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** –¥–ª—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π

–í–Ω–µ–¥—Ä–µ–Ω–∏–µ —ç—Ç–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π –ø–æ–≤—ã—Å–∏—Ç:
- **Satisfaction Score**: —Å 7/10 –¥–æ 9/10
- **Time to First Value**: —Å 30 –º–∏–Ω –¥–æ 5 –º–∏–Ω
- **Task Completion Rate**: —Å 70% –¥–æ 95%
- **User Retention**: —Å 60% –¥–æ 85%

---

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Ñ–∏—á —Å –∫–æ–º–∞–Ω–¥–æ–π
2. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤ –∫–ª—é—á–µ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. –Æ–∑–∞–±–∏–ª–∏—Ç–∏-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
4. –ò—Ç–µ—Ä–∞—Ç–∏–≤–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ —É–ª—É—á—à–µ–Ω–∏–µ


